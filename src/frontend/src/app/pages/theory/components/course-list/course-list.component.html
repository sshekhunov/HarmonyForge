<!-- Loading State -->
<div *ngIf="loading" class="loading-container">
  <div class="loading-content">
    <p-progressSpinner
      [style]="{'width': '50px', 'height': '50px'}"
      strokeWidth="4"
      fill="transparent"
      animationDuration="1s">
    </p-progressSpinner>
    <p class="loading-text">Загрузка курсов...</p>
  </div>
</div>

<!-- Error State -->
<div *ngIf="error && !loading" class="error-container">
  <div class="error-content">
    <i class="pi pi-exclamation-triangle error-icon"></i>
    <h3>Что-то пошло не так</h3>
    <p>{{ error }}</p>
    <p-button
      label="Попробовать снова"
      icon="pi pi-refresh"
      (onClick)="onRetryLoad()"
      [outlined]="true">
    </p-button>
  </div>
</div>

<!-- Empty State -->
<div *ngIf="!loading && !error && courses.length === 0" class="empty-container">
  <div class="empty-content">
    <i class="pi pi-book empty-icon"></i>
    <h3>Курсы недоступны</h3>
    <p>В настоящее время теоретические курсы недоступны. Пожалуйста, проверьте позже.</p>
  </div>
</div>

<!-- Courses List -->
<div *ngIf="!loading && !error && courses.length > 0" class="courses-section">


  <!-- Courses List Container -->
  <div class="list-container">
    <!-- Course Item -->
    <div *ngFor="let course of courses; trackBy: trackByCourseId" class="list-item">
      <!-- Main Item Content -->
      <div class="item-content">
        <!-- Left Section - Icon and Info -->
        <div class="item-left">
          <div class="item-info">
            <h3 class="item-title">{{ course.title }}</h3>
            <p class="item-description">{{ course.description }}</p>
          </div>
        </div>

        <!-- Right Section - Tags and Action -->
        <div class="item-right">
          <div class="item-action">
            <p-button
              label="Начать курс"
              icon="pi pi-play"
              (onClick)="onCourseSelected(course)"
              [size]="'small'"
              [rounded]="true">
            </p-button>
          </div>
        </div>
      </div>

      <!-- Expandable Details Section -->
      <div *ngIf="course.modules && course.modules.length > 0" class="item-details">
        <div class="modules-preview">
          <h4 class="modules-title">Модули курса</h4>
          <div class="modules-list">
            <div *ngFor="let module of course.modules; trackBy: trackByModuleId" class="module-item">
              <span class="module-number">{{ getModuleNumber(module) }}.</span>
              <span class="module-name">{{ module.title }}</span>
              <span class="module-description">{{ module.description }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
