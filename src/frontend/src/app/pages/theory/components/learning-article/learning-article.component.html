<div class="learning-article-container" *ngIf="article">
  <!-- Article Content -->
  <div class="article-content">
    <div *ngIf="article.contentSections.length === 0" class="no-content">
      <i class="pi pi-file-o no-content-icon"></i>
      <p>Контент статьи пока недоступен.</p>
    </div>

    <!-- Content Sections -->
    <div *ngFor="let section of article.contentSections; trackBy: trackBySectionOrder"
         class="content-section">

      <!-- Section Header -->
      <div class="section-header" *ngIf="section.title">
        <h3 class="section-title">{{ section.title }}</h3>
      </div>

      <!-- Section Content Items -->
      <div class="section-content">
        <div *ngFor="let contentItem of section.contentItems; trackBy: trackByContentItemOrder"
             class="content-item">

          <!-- Text Content -->
          <div *ngIf="contentItem.type === 0" class="text-content">
            <div class="content-wrapper">
              <p class="content-text">{{ contentItem.content }}</p>
            </div>
          </div>

          <!-- Image Content -->
          <div *ngIf="contentItem.type === 1" class="image-content">
            <div class="content-wrapper">
              <img [src]="contentItem.content"
                   [alt]="'Изображение для ' + section.title"
                   class="content-image"
                   loading="lazy">
            </div>
          </div>

          <!-- Video Content -->
          <div *ngIf="contentItem.type === 2" class="video-content">
            <div class="content-wrapper">
              <div *ngIf="isVideoContent(contentItem.content)" class="video-embed">
                <iframe [src]="getVideoEmbedUrl(contentItem.content)"
                        frameborder="0"
                        allowfullscreen
                        class="video-iframe">
                </iframe>
              </div>
              <div *ngIf="!isVideoContent(contentItem.content)" class="video-link">
                <a [href]="contentItem.content" target="_blank" class="video-link-button">
                  <i class="pi pi-video"></i>
                  Открыть видео
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- No Article State -->
<div *ngIf="!article" class="no-article">
  <i class="pi pi-file-o no-article-icon"></i>
  <p>Статья не найдена или не загружена.</p>
</div>
